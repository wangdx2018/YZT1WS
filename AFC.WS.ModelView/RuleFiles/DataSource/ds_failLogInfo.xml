<?xml version="1.0"?>
<DataSourceRule xmlnsxsi="http//www.w3.org/2001/XMLSchema-instance" xmlnsxsd="http//www.w3.org/2001/XMLSchema" DataSourceName="ds_failLogInfo" DataSourceTypeName="AFC.WS.UI.DataSources.DefaultDataSource,AFC.WS.UI.FC" ComboBoxDataSource="DefaultDataSource">
  <PropertyValues>
    <PropertyValue Key="DBConnectionString" />
    <PropertyValue Value="SELECT t.line_id, 
       t.station_id, 
       t.device_id, 
       t.fail_date, 
       t.fail_time, 
       case t.fail_type when '00' then '正常'
                   when '01' then '警告'
                   when '02' then '故障'
                   else '其它' end AS oper_class_name, 
       tt.fail_content, 
       t.key_fld1, 
       t.key_fld2, 
       ttt.device_name 
FROM   dev_fail_log_info t 
       LEFT JOIN basi_dev_fail_code_info tt 
              ON t.fail_id = tt.fail_id AND subStr(t.device_id, 5,2) = tt.device_type
       LEFT JOIN basi_dev_type_info ttt 
              ON subStr(t.device_id, 5,2) = ttt.device_type  " Key="Sql" />
    <PropertyValue Key="GroupParams" />
    <PropertyValue Key="HavingParams" />
    <PropertyValue Key="WhereParams" />
    <PropertyValue Value="fail_date desc,fail_time desc" Key="OrderByParams" />
  </PropertyValues>
</DataSourceRule>